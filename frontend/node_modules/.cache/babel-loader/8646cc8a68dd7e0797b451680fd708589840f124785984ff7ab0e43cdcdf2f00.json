{"ast":null,"code":"import _defineProperty from\"D:/inotebook/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/inotebook/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/inotebook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useRef,useState}from'react';import noteContext from'../context/notes/noteContext';import Addnote from\"./Addnote\";import Noteitem from'./Noteitem';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Notes=function Notes(props){var context=useContext(noteContext);var notes=context.notes,getnote=context.getnote,editnote=context.editnote;var navigate=useNavigate();useEffect(function(){if(localStorage.getItem(\"token\")){getnote();}else{navigate(\"/login\");}// eslint-disable-next-line\n},[]);var ref=useRef(null);var refclose=useRef(null);var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"default\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var updatenote=function updatenote(currentnote){ref.current.click();setNote({id:currentnote._id,etitle:currentnote.title,edescription:currentnote.description,etag:currentnote.tag});};var handleclick=function handleclick(e){editnote(note.id,note.etitle,note.edescription,note.etag);refclose.current.click();props.showalert(\"Note upadated successsfully\",\"success\");};var onchange=function onchange(e){setNote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(Addnote,{showalert:props.showalert}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",ref:ref,className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Add note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,\"aria-describedby\":\"emailHelp\",onChange:onchange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:onchange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:note.etag,onChange:onchange})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refclose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:note.etitle.length<4||note.edescription.length<4,type:\"button\",className:\"btn btn-primary\",onClick:handleclick,children:\"Upadte Note\"})]})]})})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:notes.length===0&&\"No notes to display\"}),notes.map(function(note){return/*#__PURE__*/_jsx(Noteitem,{note:note,updatenote:updatenote},note._id);})]})});};export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","noteContext","Addnote","Noteitem","useNavigate","jsx","_jsx","jsxs","_jsxs","Notes","props","context","notes","getnote","editnote","navigate","localStorage","getItem","ref","refclose","_useState","id","etitle","edescription","etag","_useState2","_slicedToArray","note","setNote","updatenote","currentnote","current","click","_id","title","description","tag","handleclick","e","showalert","onchange","_objectSpread","_defineProperty","target","name","value","children","className","type","tabIndex","htmlFor","onChange","disabled","length","onClick","map"],"sources":["D:/inotebook/src/component/Notes.js"],"sourcesContent":["import React, { useContext, useEffect, useRef,useState } from 'react'\nimport noteContext from '../context/notes/noteContext';\nimport Addnote from \"./Addnote\";\nimport Noteitem from './Noteitem';\nimport { useNavigate } from \"react-router-dom\";\n\nconst Notes = (props) => {\n  const context = useContext(noteContext);\n  const { notes, getnote ,editnote} = context;\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if(localStorage.getItem(\"token\")){\n      getnote();\n    }\n    else{\n       navigate(\"/login\")\n    }\n    // eslint-disable-next-line\n  }, [])\n  const ref = useRef(null);\n  const refclose = useRef(null);\n  const [note,setNote] = useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"default\"})\n  \n    const updatenote = (currentnote) => {\n      ref.current.click();\n      setNote({id: currentnote._id, etitle:currentnote.title, edescription:currentnote.description, etag:currentnote.tag})\n    }\n\n  const handleclick = (e)=>{\n    editnote(note.id,note.etitle,note.edescription,note.etag)\n    refclose.current.click();\n    props.showalert(\"Note upadated successsfully\",\"success\")\n\n}\n\nconst onchange = (e)=>{\nsetNote({...note ,[e.target.name]: e.target.value} )\n} \n  return (\n    <div>\n      <div className=\"row my-3\">\n        <Addnote showalert={props.showalert}/>\n        <button type=\"button\" ref={ref} className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n          Launch demo modal\n        </button>\n        <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n          <div className=\"modal-dialog\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\" id=\"exampleModalLabel\">Add note</h5>\n                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n              </div>\n              <div className=\"modal-body\">\n                <form className='my-3'>\n                  <div className=\"mb-3\">\n                    <label htmlFor=\"title\" className=\"form-label\">Title</label>\n                    <input type=\"text\" className=\"form-control\" id=\"etitle\" name=\"etitle\" value={note.etitle} aria-describedby=\"emailHelp\" onChange={onchange} />\n                  </div>\n                  <div className=\"mb-3\">\n                    <label htmlFor=\"description\" className=\"form-label\">Description</label>\n                    <input type=\"text\" className=\"form-control\" id=\"edescription\" name=\"edescription\" value={note.edescription} onChange={onchange} />\n                  </div>\n                  <div className=\"mb-3\">\n                    <label htmlFor=\"tag\" className=\"form-label\">Tag</label>\n                    <input type=\"text\" className=\"form-control\" id=\"etag\" name=\"etag\" value={note.etag}onChange={onchange} />\n                  </div>\n                </form>\n              </div>\n              <div className=\"modal-footer\">\n                <button ref={refclose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                <button disabled={note.etitle.length<4 || note.edescription.length<4}type=\"button\" className=\"btn btn-primary\" onClick={handleclick}>Upadte Note</button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <h2>Your Notes</h2>\n        <div className=\"container\">\n          {notes.length===0 && \"No notes to display\"}\n        </div>\n        {notes.map((note) => {\n          return <Noteitem key={note._id} note={note} updatenote={updatenote} />;\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default Notes\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}