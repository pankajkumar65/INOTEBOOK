{"ast":null,"code":"import _defineProperty from\"D:/inotebook/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/inotebook/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/inotebook/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/inotebook/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/inotebook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var navigate=useNavigate();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),credential=_useState2[0],Setcredential=_useState2[1];var handlesubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"http://localhost:5000/api/auth/login\",{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:credential.email,password:credential.password})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:json=_context.sent;console.log(json);if(json.Success){// save the auth token rederict \nlocalStorage.setItem('token',json.authtoken);props.showalert(\"loggedin successfully\",\"success\");navigate(\"/\");}else{props.showalert(\"please try to login with correct credential\",\"danger\");}case 9:case\"end\":return _context.stop();}},_callee);}));return function handlesubmit(_x){return _ref.apply(this,arguments);};}();var onChange=function onChange(e){Setcredential(_objectSpread(_objectSpread({},credential),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlesubmit,className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login to iNotebook\"}),/*#__PURE__*/_jsx(\"p\",{children:\"sign in on the internal palatform\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",onChange:onChange,\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/_jsx(\"div\",{id:\"email\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",minLength:5,onChange:onChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onSubmit:handlesubmit,children:\"Submit\"})]})});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","props","navigate","_useState","email","password","_useState2","_slicedToArray","credential","Setcredential","handlesubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","json","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","console","log","Success","localStorage","setItem","authtoken","showalert","stop","_x","apply","arguments","onChange","_objectSpread","_defineProperty","target","name","value","children","onSubmit","className","htmlFor","type","id","minLength"],"sources":["D:/inotebook/src/component/Login.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { useNavigate } from \"react-router-dom\";\n \nconst  Login=(props)=> {\n  let navigate =  useNavigate();\n  \n  const[credential, Setcredential]= useState({email:\"\",password:\"\"})\n\n  const handlesubmit= async(e)=>{\n    e.preventDefault();\n    const response = await fetch(`http://localhost:5000/api/auth/login`,{\n      method: 'POST',\n      headers:{\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({email:credential.email,password:credential.password})\n    });\n    const json = await response.json();\n    console.log(json);\n    if(json.Success){\n      // save the auth token rederict \n       localStorage.setItem('token',json.authtoken)\n       props.showalert(\"loggedin successfully\",\"success\")\n       navigate(\"/\");\n    }\n    else{\n      props.showalert(\"please try to login with correct credential\",\"danger\")\n    }\n  }\n\n  const onChange = (e)=>{\n    Setcredential({...credential ,[e.target.name]: e.target.value} )\n    } \n\n  return (\n    <div>\n      <form onSubmit={handlesubmit} className='mt-3'>\n        <div className='mb-4'>\n          <h1>Login to iNotebook</h1>\n          <p>sign in on the internal palatform</p>\n          {/* <div className=\"d-flex\">\n                    <Button size=\"large\" fullWidth className=\"mb-4 me-4\" variant=\"contained\" color=\"primary\" startIcon={<FacebookIcon />} component={Link} to=\"/\" style={{ textTransform: \"none\", fontSize: \"1.1rem\", color: \"White\", fontFamily: \"'Poppins', sans-serif\" }}>Login with Facebook</Button>\n                    <Button size=\"large\" fullWidth className=\"mb-4\" variant=\"contained\" color=\"error\" startIcon={<GoogleIcon />} component={Link} to=\"/\" style={{ textTransform: \"none\", fontSize: \"1.1rem\", color: \"White\", fontFamily: \"'Poppins', sans-serif\" }}>Login with Google</Button>\n                </div> */}\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\n          <input type=\"email\" className=\"form-control\" id=\"email\" name='email' onChange={onChange}aria-describedby=\"emailHelp\"/>\n            <div id=\"email\" className=\"form-text\">We'll never share your email with anyone else.</div>\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Password</label>\n          <input type=\"password\" className=\"form-control\" id=\"password\" name='password' minLength={5} onChange={onChange}/>\n        </div>\n         \n        <button type=\"submit\" className=\"btn btn-primary\" onSubmit={handlesubmit}>Submit</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Login\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}